(function(b){b.fn.ticker=function(r){var c=b.extend({},b.fn.ticker.defaults,r);if(0==b(this).length)return window.console&&window.console.log?window.console.log("Element does not exist in DOM!"):alert("Element does not exist in DOM!"),!1;var l="#"+b(this).attr("id"),m=b(this).get(0).tagName;return this.each(function(){function g(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}function h(a){c.debugMode&&(window.console&&window.console.log?window.console.log(a):alert(a))}function j(){a.contentLoaded=
!0;b(a.dom.titleElem).html(a.newsArr["item-"+a.position].type);b(a.dom.contentID).html(a.newsArr["item-"+a.position].content);a.position==g(a.newsArr)-1?a.position=0:a.position++;distance=b(a.dom.contentID).width();time=distance/c.speed;b(a.dom.contentID).css("opacity","1");if(a.play){var n=b(a.dom.titleID).width()+20;b(a.dom.revealID).css(c.direction,n+"px");"fade"==c.displayType?b(a.dom.revealID).hide(0,function(){b(a.dom.contentID).css(c.direction,n+"px").fadeIn(c.fadeInSpeed,k)}):"scroll"!=c.displayType&&
b(a.dom.revealElem).show(0,function(){b(a.dom.contentID).css(c.direction,n+"px").show();animationAction="right"==c.direction?{marginRight:distance+"px"}:{marginLeft:distance+"px"};b(a.dom.revealID).css("margin-"+c.direction,"0px").delay(20).animate(animationAction,time,"linear",k)})}}function k(){a.play?(b(a.dom.contentID).delay(c.pauseOnItems).fadeOut(c.fadeOutSpeed),"fade"==c.displayType?b(a.dom.contentID).fadeOut(c.fadeOutSpeed,function(){b(a.dom.wrapperID).find(a.dom.revealElem+","+a.dom.contentID).hide().end().find(a.dom.tickerID+
","+a.dom.revealID).show().end().find(a.dom.tickerID+","+a.dom.revealID).removeAttr("style");j()}):b(a.dom.revealID).hide(0,function(){b(a.dom.contentID).fadeOut(c.fadeOutSpeed,function(){b(a.dom.wrapperID).find(a.dom.revealElem+","+a.dom.contentID).hide().end().find(a.dom.tickerID+","+a.dom.revealID).show().end().find(a.dom.tickerID+","+a.dom.revealID).removeAttr("style");j()})})):b(a.dom.revealElem).hide()}function p(){a.play=!1;b(a.dom.tickerID+","+a.dom.revealID+","+a.dom.titleID+","+a.dom.titleElem+
","+a.dom.revealElem+","+a.dom.contentID).stop(!0,!0);b(a.dom.revealID+","+a.dom.revealElem).hide();b(a.dom.wrapperID).find(a.dom.titleID+","+a.dom.titleElem).show().end().find(a.dom.contentID).show()}function q(c){p();switch(c){case "prev":a.position=0==a.position?g(a.newsArr)-2:1==a.position?g(a.newsArr)-1:a.position-2;b(a.dom.titleElem).html(a.newsArr["item-"+a.position].type);b(a.dom.contentID).html(a.newsArr["item-"+a.position].content);break;case "next":b(a.dom.titleElem).html(a.newsArr["item-"+
a.position].type),b(a.dom.contentID).html(a.newsArr["item-"+a.position].content)}a.position==g(a.newsArr)-1?a.position=0:a.position++}var d;d=(new Date).getTime();var a={position:0,time:0,distance:0,newsArr:{},play:!0,paused:!1,contentLoaded:!1,dom:{contentID:"#ticker-content-"+d,titleID:"#ticker-title-"+d,titleElem:"#ticker-title-"+d+" SPAN",tickerID:"#ticker-"+d,wrapperID:"#ticker-wrapper-"+d,revealID:"#ticker-swipe-"+d,revealElem:"#ticker-swipe-"+d+" SPAN",controlsID:"#ticker-controls-"+d,prevID:"#prev-"+
d,nextID:"#next-"+d,playPauseID:"#play-pause-"+d}};if("UL"!=m&&"OL"!=m&&!0===c.htmlFeed)return h("Cannot use <"+m.toLowerCase()+"> type of element for this plugin - must of type <ul> or <ol>"),!1;"rtl"==c.direction?c.direction="right":c.direction="left";!1==a.contentLoaded&&(c.ajaxFeed?"xml"==c.feedType?b.ajax({url:c.feedUrl,cache:!1,dataType:c.feedType,async:!0,success:function(b){for(var e=count=0;e<b.childNodes.length;e++)"rss"==b.childNodes[e].nodeName&&(xmlContent=b.childNodes[e]);for(b=0;b<
xmlContent.childNodes.length;b++)"channel"==xmlContent.childNodes[b].nodeName&&(xmlChannel=xmlContent.childNodes[b]);for(b=0;b<xmlChannel.childNodes.length;b++)if("item"==xmlChannel.childNodes[b].nodeName){xmlItems=xmlChannel.childNodes[b];for(var d,e=!1,f=0;f<xmlItems.childNodes.length;f++)"title"==xmlItems.childNodes[f].nodeName?d=xmlItems.childNodes[f].lastChild.nodeValue:"link"==xmlItems.childNodes[f].nodeName&&(e=xmlItems.childNodes[f].lastChild.nodeValue),!1!==d&&""!=d&&!1!==e&&(a.newsArr["item-"+
count]={type:c.titleText,content:'<a href="'+e+'">'+d+"</a>"},count++,e=d=!1)}if(g(1>a.newsArr))return h("Couldn't find any content from the XML feed for the ticker to use!"),!1;a.contentLoaded=!0;j()}}):h("Code Me!"):c.htmlFeed?0<b(l+" LI").length?b(l+" LI").each(function(d){a.newsArr["item-"+d]={type:c.titleText,content:b(this).html()}}):h("Couldn't find HTML any content for the ticker to use!"):h("The ticker is set to not use any types of content! Check the settings for the ticker."));b(l).wrap('<div id="'+
a.dom.wrapperID.replace("#","")+'"></div>');b(a.dom.wrapperID).children().remove();b(a.dom.wrapperID).append('<div id="'+a.dom.tickerID.replace("#","")+'" class="ticker"><div id="'+a.dom.titleID.replace("#","")+'" class="ticker-title"><span>\x3c!-- --\x3e</span></div><p id="'+a.dom.contentID.replace("#","")+'" class="ticker-content"></p><div id="'+a.dom.revealID.replace("#","")+'" class="ticker-swipe"><span>\x3c!-- --\x3e</span></div></div>');b(a.dom.wrapperID).removeClass("no-js").addClass("ticker-wrapper has-js "+
c.direction);b(a.dom.tickerElem+","+a.dom.contentID).hide();c.controls&&(b(a.dom.controlsID).on("click mouseover mousedown mouseout mouseup",function(c){var d=c.target.id;if("click"==c.type)switch(d){case a.dom.prevID.replace("#",""):a.paused=!0;b(a.dom.playPauseID).addClass("paused");q("prev");break;case a.dom.nextID.replace("#",""):a.paused=!0;b(a.dom.playPauseID).addClass("paused");q("next");break;case a.dom.playPauseID.replace("#",""):!0==a.play?(a.paused=!0,b(a.dom.playPauseID).addClass("paused"),
p()):(a.paused=!1,b(a.dom.playPauseID).removeClass("paused"),a.play=!0,a.paused=!1,k())}else"mouseover"==c.type&&b("#"+d).hasClass("controls")?b("#"+d).addClass("over"):"mousedown"==c.type&&b("#"+d).hasClass("controls")?b("#"+d).addClass("down"):"mouseup"==c.type&&b("#"+d).hasClass("controls")?b("#"+d).removeClass("down"):"mouseout"==c.type&&b("#"+d).hasClass("controls")&&b("#"+d).removeClass("over")}),b(a.dom.wrapperID).append('<ul id="'+a.dom.controlsID.replace("#","")+'" class="ticker-controls"><li id="'+
a.dom.playPauseID.replace("#","")+'" class="jnt-play-pause controls"><a href="">\x3c!-- --\x3e</a></li><li id="'+a.dom.prevID.replace("#","")+'" class="jnt-prev controls"><a href="">\x3c!-- --\x3e</a></li><li id="'+a.dom.nextID.replace("#","")+'" class="jnt-next controls"><a href="">\x3c!-- --\x3e</a></li></ul>'));"fade"!=c.displayType&&b(a.dom.contentID).mouseover(function(){!1==a.paused&&p()}).mouseout(function(){!1==a.paused&&(a.play=!0,a.paused=!1,k())});c.ajaxFeed||j()})};b.fn.ticker.defaults=
{speed:0.1,ajaxFeed:!1,feedUrl:"",feedType:"xml",displayType:"reveal",htmlFeed:!0,debugMode:!0,controls:!0,titleText:"Latest",direction:"ltr",pauseOnItems:3E3,fadeInSpeed:600,fadeOutSpeed:300}})(jQuery);;